# متطلبات القالب النموذجي الاستراتيجي لـ Kiro (Kiro-Strategic-Blueprint)

## 1. المتطلبات الوظيفية (Functional Requirements)

| المعرف | المتطلب | الوصف | المرجع |
| :--- | :--- | :--- | :--- |
| **FR-001** | **توليد المواصفات (Spec Generation)** | يجب أن يوفر القالب برنامج (Prompt) يسمح للوكيل بإنشاء وثائق مواصفات جديدة (`specs/`) (مثل متطلبات، تصميم، مهام) بناءً على قالب موحد. | [3] |
| **FR-002** | **فرض المكدس التقني** | يجب أن يحتوي القالب على ملف توجيه (`steering/`) يفرض استخدام المكدس التقني المعتمد (Flutter/Go) في أي كود يتم إنشاؤه. | [1] |
| **FR-003** | **فحص الأمان الوقائي** | يجب أن يحتوي القالب على خطاف (`hooks/on-commit`) يقوم بفحص الكود بحثًا عن مفاتيح سرية أو بيانات حساسة قبل السماح بعملية الـ Commit. | [2] |
| **FR-004** | **تحديث التوثيق التلقائي** | يجب أن يحتوي القالب على خطاف (`hooks/on-save`) يقوم بتشغيل عملية تحديث للتوثيق (مثل ملفات README أو Swagger) عند حفظ ملفات الكود المصدرية. | [2] |
| **FR-005** | **الاتصال بمصادر المعرفة** | يجب أن يوفر القالب تكوينًا لـ MCP يسمح للوكيل بالوصول إلى مصادر معرفة خارجية (Mock MCP) لتعزيز دقة الإجابات. | [4] |
| **FR-006** | **أتمتة GitOps** | يجب أن يوفر القالب خطافًا يدويًا (`hooks/manual`) يسمح بتشغيل عملية نشر GitOps (تحديث Manifests) عند الطلب. | [5] |

## 2. المتطلبات غير الوظيفية (Non-Functional Requirements)

| المعرف | المتطلب | الوصف | المرجع |
| :--- | :--- | :--- | :--- |
| **NFR-001** | **الوضوح والشفافية** | يجب أن تكون جميع ملفات `.kiro/` موثقة بشكل واضح وموجز، مع شرح وظيفة كل ملف. | [1] |
| **NFR-002** | **قابلية الصيانة** | يجب أن يكون هيكل `.kiro/` معياريًا ومنظمًا بحيث يسهل إضافة أو إزالة أو تعديل أي مكون (Steering, Hooks, Prompts). | [1] |
| **NFR-003** | **الأداء (Hooks)** | يجب ألا تستغرق عملية تشغيل أي خطاف (`hook`) أكثر من 5 ثوانٍ لتجنب إبطاء سير عمل المطور. | [2] |
| **NFR-004** | **الامتثال الأمني** | يجب أن تتبع جميع ملفات التوجيه (`steering/`) المتعلقة بالأمان أفضل الممارسات الأمنية المعتمدة. | [2] |

## 3. مقاييس النجاح (Success Metrics)

سيتم قياس نجاح القالب بناءً على مقاييس DORA و SPACE، والتي سيساعد القالب في تحقيقها:

### أ. مقاييس DORA (لأداء التسليم)
*   **Lead Time for Changes:** يجب أن يساهم القالب في تقليل الوقت المستغرق من الـ Commit إلى النشر (Deployment) من خلال أتمتة GitOps.
*   **Deployment Frequency:** يجب أن يسهل القالب زيادة تكرار عمليات النشر الآمنة.

### ب. مقاييس SPACE (لإنتاجية المطور)
*   **Satisfaction and Well-being:** يجب أن يساهم القالب في تقليل الإحباط الناتج عن الأخطاء المتكررة (مثل أخطاء الأمان) من خلال الأتمتة الوقائية.
*   **Activity:** يجب أن يزيد القالب من جودة مخرجات المطور (مثل جودة التوثيق والمواصفات) من خلال فرض القوالب الموحدة.

## المراجع

[1] kirodotdev/spirit-of-kiro: مثال مرجعي يوضح هيكل Specs و Steering.
[2] awsdataarchitect/kiro-best-practices: مثال عملي لـ Hooks والأمان.
[3] wirelessr/kiro-workflow-prompts: مثال لـ Prompts المنهجية.
[4] chidvilas1234/Project-MCP: مثال لتكوين MCP.
[5] team-workflows/kiro-gitops-bridge: مثال لـ Hooks وأتمتة GitOps.
